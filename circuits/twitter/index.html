



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="A Tutorial for Parsing JSON Data on the Feather">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.3">
    
    
      
        <title>Twitter JSON</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.30686662.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="white" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#about-this-tutorial" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Mark Olson's Lab & Tutorial Repo" class="md-header-nav__button md-logo">
          
            <img src="../../images/avatar.svg" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Mark Olson's Lab & Tutorial Repo
            </span>
            <span class="md-header-nav__topic">
              
                Twitter JSON
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Mark Olson's Lab & Tutorial Repo" class="md-nav__button md-logo">
      
        <img src="../../images/avatar.svg" width="48" height="48">
      
    </a>
    Mark Olson's Lab & Tutorial Repo
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Welcome" class="md-nav__link">
      Welcome
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Circuits
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Circuits
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../tinkercad/" title="Tinkercad" class="md-nav__link">
      Tinkercad
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../attiny85/" title="ATtiny85" class="md-nav__link">
      ATtiny85
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../feather/" title="Feather M0" class="md-nav__link">
      Feather M0
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../blynk/" title="Blynk" class="md-nav__link">
      Blynk
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqtt/" title="MQTT" class="md-nav__link">
      MQTT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../instagram/" title="Instagram API" class="md-nav__link">
      Instagram API
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Twitter API
      </label>
    
    <a href="./" title="Twitter API" class="md-nav__link md-nav__link--active">
      Twitter API
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#about-this-tutorial" class="md-nav__link">
    About this Tutorial
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-arduinojson-library" class="md-nav__link">
    Install ArduinoJSON Library
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#twitter-setup" class="md-nav__link">
    Twitter Setup
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#developer-access" class="md-nav__link">
    Developer Access
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#twitter-application-only-authentication" class="md-nav__link">
    Twitter Application-only Authentication
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#encode-consumer-api-keysecret" class="md-nav__link">
    Encode Consumer API Key/Secret
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-twitter-api-access" class="md-nav__link">
    Test Twitter API Access
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arduino-sketch" class="md-nav__link">
    Arduino Sketch
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Machine Learning
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Machine Learning
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../machine-learning/pytorch-dcgan/" title="PyTorch DCGAN" class="md-nav__link">
      PyTorch DCGAN
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Web &amp; Multimedia
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Web &amp; Multimedia
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../web-multimedia/lab1/" title="Lab 1" class="md-nav__link">
      Lab 1
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../web-multimedia/lab2/" title="Lab 2" class="md-nav__link">
      Lab 2
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../web-multimedia/lab3/" title="Lab 3" class="md-nav__link">
      Lab 3
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../web-multimedia/lab4/" title="Lab 4" class="md-nav__link">
      Lab 4
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../web-multimedia/lab5/" title="Lab 5" class="md-nav__link">
      Lab 5
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../web-multimedia/lab6/" title="Lab 6" class="md-nav__link">
      Lab 6
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../web-multimedia/lab7/" title="Lab 7" class="md-nav__link">
      Lab 7
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#about-this-tutorial" class="md-nav__link">
    About this Tutorial
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-arduinojson-library" class="md-nav__link">
    Install ArduinoJSON Library
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#twitter-setup" class="md-nav__link">
    Twitter Setup
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#developer-access" class="md-nav__link">
    Developer Access
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#twitter-application-only-authentication" class="md-nav__link">
    Twitter Application-only Authentication
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#encode-consumer-api-keysecret" class="md-nav__link">
    Encode Consumer API Key/Secret
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-twitter-api-access" class="md-nav__link">
    Test Twitter API Access
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arduino-sketch" class="md-nav__link">
    Arduino Sketch
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
    
    
        
        <div id="titleb4authors">
            <h1 class="titleb4authors">Twitter API</h1>
                <p style="float:left;">Last Update: <em>2018-12-01</em></p>
                
                <p style="float:right;">Author(s): <em>Mark Olson</em></p>
                
                <hr />
            </div> 
        
    
    <h2 id="about-this-tutorial">About this Tutorial</h2>
<p>Some of your projects require querying the API of an online service -- such as [Instagram]((https://www.instagram.com/developer/), <a href="https://api.nasa.gov/">NASA</a>, or <a href="https://openweathermap.org/api">OpenWeatherMap</a> -- and then parsing the data sent back from the service.   <a href="https://www.json.org/">JSON</a> (JavaScript Object Notation) is a common data format returned by API queries.  In this tutorial you will explore how to request JSON data from an API using an HTTP GET request and then how to parse that data for use by your Feather.  </p>
<p>Specifically, this tutorial outlines how to query the Twitter API and its <a href="https://developer.twitter.com/en/docs/tweets/data-dictionary/overview/intro-to-tweet-json.html">"Tweet JSON"</a> data.  </p>
<h2 id="install-arduinojson-library">Install ArduinoJSON Library</h2>
<p>First, install Benoit Blanchon's <a href="https://arduinojson.org/">ArduinoJson library</a> into the Arduino IDE.   Proceed with the steps below and/or consult arduinojson.org's <a href="https://arduinojson.org/v5/doc/installation/">official documentation</a>.  </p>
<ol>
<li>
<p>Launch the Arduino application.</p>
</li>
<li>
<p>From the main menu, choose Sketch --&gt; Include Library --&gt; Manage Libraries</p>
</li>
<li>
<p>In the "Filter your search..." box, type <code>JSON</code></p>
</li>
<li>
<p>Scroll down until you find "ArduinoJson by Benoit Blanchon"</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Do NOT immediately click Install.  The Library Manager lists the "beta" version by default, but for reliability, you will most likely want to use the latest "production" version.  As of the  of the writing of this tutorial, the latest version is:</p>
<p><strong><code>version 5.13.3</code></strong></p>
</div>
</li>
<li>
<p>From the "Version" drop-down box, scroll down past all of the "X.X-beta" versions until you find the latest version non-beta version.  Click on that version to select it.</p>
</li>
<li>
<p>Finally, click the <code>Install</code> button and then <code>Close</code> once the library installation has completed.</p>
</li>
</ol>
<h2 id="twitter-setup">Twitter Setup</h2>
<h3 id="developer-access">Developer Access</h3>
<p>To interact with Twitter's API, you will need a developer account and Twitter API keys.</p>
<ol>
<li>
<p>Go to <a href="https://twitter.com/login">https://twitter.com/login</a> and sign in with your Twitter account credentials.</p>
</li>
<li>
<p>Visit <a href="https://developer.twitter.com/en/apply/user">https://developer.twitter.com/en/apply/user</a> to register your Twitter username for developer access.</p>
<ol>
<li>
<p>Your username should be selected by default.  Click "Continue."</p>
</li>
<li>
<p>Next, select the "I am requesting access for my own personal use" radio button.</p>
</li>
<li>
<p>Enter a name for your developer account or project and select Primary Country of Operation.  Click "Continue"</p>
</li>
<li>
<p>On the next screen, choose your use case ("Student project / Learning to code").</p>
</li>
<li>
<p>Describe your project, such as:</p>
<div class="codehilite"><pre><span></span>1. I am testing the Twitter API with an IoT device (Adafruit Feather M0)
2. I want my own new Tweets, new followers and likes to my Tweets to trigger functions on my device. (light LEDs, etc)
3.  No,  simply reading and responding to Twitter data
4.  Content will not be displayed on device, except abstractly. [Of course, if you will display Twitter content (such as on an Arduino-connected LCD) you should say so here and describe its use case.]
</pre></div>

</li>
<li>
<p>Select <code>No</code> for "Will your product, service, or analysis make Twitter content or derived information available to a government entity?"</p>
</li>
<li>
<p>Read and accept the Terms of Service.</p>
</li>
<li>
<p>Finally, check your email inbox for a verification email.  In the email, click the "Confirm Your Email" button.</p>
</li>
</ol>
</li>
<li>
<p>Now you are ready to create your first Twitter app.  Visit <a href="https://developer.twitter.com/en/apps">https://developer.twitter.com/en/apps</a> and click on the "Create an App" button.</p>
</li>
<li>
<p>Enter the App details (these can be modified later):</p>
<ol>
<li>
<p>Name: <code>vms564s_app</code></p>
</li>
<li>
<p>App Description:  <code>This app enables connectivity to an IoT device</code></p>
</li>
<li>
<p>Website URL: <code>https://aahvs.duke.edu</code></p>
</li>
<li>
<p>Tell us how this app will be used: <code>This app is for a class project for VMS564S  Physical Computing and the Internet of Things at Duke University.</code></p>
</li>
</ol>
</li>
<li>
<p>Click the Create button.  You will be taken to a summary page.  Verify and/or edit the information as needed.</p>
</li>
<li>
<p>Click on the Permissions tab.  For our purposes, we only need "Read-only" access.  If you want your Arduino app on the Feather to also be able to post Tweets under your account, choose "Read and write".   Click "Save".</p>
</li>
<li>
<p>Next, click on the "Keys and Tokens" tab.</p>
</li>
<li>
<p>Under "Consumer API keys", click "Regenerate".  This will generate both an <code>API Key</code> and <code>API Secret Key</code> that you will need for the next section of this tutorial.  Leave this page open in your browser so you can access these in the next section.  You can always return to find them via <a href="https://developer.twitter.com/en/apps">https://developer.twitter.com/en/apps</a> </p>
</li>
</ol>
<h3 id="twitter-application-only-authentication">Twitter Application-only Authentication</h3>
<p>For this tutorial, we will make use of Twitter's <a href="https://developer.twitter.com/en/docs/basics/authentication/overview/application-only">application-only authentication</a> schema.  In this schema, you will encode the API key and secret for your app and store it on the Feather.  Then you will use these credentials to generate a "Bearer" token that will allow your Feather to make queries against the Twitter API.</p>
<h4 id="encode-consumer-api-keysecret">Encode Consumer API Key/Secret</h4>
<p>The <a href="https://developer.twitter.com/en/docs/basics/authentication/overview/application-only">documentation</a> specifies that you need to encode your access token and access token secret as a single "RFC 1738- and Base64-encoded" string.  </p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><a href="http://www.blooberry.com/indexdot/html/topics/urlencoding.htm">RFC 1738</a> encoding, also known as "url safe" encoding, will have no effect on the consumer key and secret at this time, but may in the future.  You can encode here if necessary: <a href="https://www.freeformatter.com/url-encoder.html">https://www.freeformatter.com/url-encoder.html</a> </p>
</div>
<ol>
<li>
<p>In a new browser window, visit: https://www.base64encode.org/</p>
<p><img alt="Base64 Encoder Window" src="base64.png" /></p>
</li>
<li>
<p>You will want to paste into the form your API key and secret in the following format, where key and secret are separated by a <code>:</code> with no spaces:</p>
<p><code>consumerAPIkey:APIsecret</code></p>
</li>
<li>
<p>Thus, the hypothetical consumer API key <code>xvz1evFS4wEEPTGEFPHBog</code> and secret <code>L8qq9PZyRg6ieKGEKhZolGC0vJWLw8iEJ88DRdyOg</code> would become:</p>
<p><code>xvz1evFS4wEEPTGEFPHBog:L8qq9PZyRg6ieKGEKhZolGC0vJWLw8iEJ88DRdyOg</code></p>
</li>
<li>
<p>Click the green "&gt; Encode &lt;" button.   The resulting encoded string should appear in the results pane.</p>
<p>The key/secret combination above yields the following base64 encoded string (yours will be different):</p>
<p><code>eHZ6MWV2RlM0d0VFUFRHRUZQSEJvZzpMOHFxOVBaeVJnNmllS0dFS2hab2xHQzB2SldMdzhpRUo4OERSZHlPZw==</code></p>
</li>
<li>
<p>Copy the base64 encoded string and paste somewhere you can make use of it in the next section.</p>
</li>
</ol>
<h4 id="test-twitter-api-access">Test Twitter API Access</h4>
<p>Now you can test the string you generated above for its ability to query the Twitter API for a "Bearer" token, which can then be used to query for Twitter data.  The easiest way to test is to use the application called <a href="https://curl.haxx.se/">cURL</a></p>
<ol>
<li>
<p>Open the Terminal on your computer and type the following at the command prompt:</p>
<p><code>curl --version</code></p>
<p>and then press enter.  You should see the curl version print out in your terminal.  If not, you will need to install the command-line application.  If that is the case, use the curl download wizard @ <a href="https://curl.haxx.se/dlwiz/?type=bin">https://curl.haxx.se/dlwiz/?type=bin</a></p>
</li>
<li>
<p>In your browser, visit: https://curlbuilder.com/</p>
</li>
<li>
<p>In the form on that page, use the following settings:</p>
<ol>
<li>
<p>HTTP Method:  <code>POST</code></p>
</li>
<li>
<p>URL: <code>https://api.twitter.com/oauth2/token</code></p>
</li>
<li>
<p>Body: <code>grant_type=client_credentials</code></p>
</li>
<li>
<p>Click on the "Add Custom Header" button .</p>
</li>
<li>
<p>In the resulting fields, use <code>Authorization</code> for <strong>Header key</strong> and and then <code>Basic base64string</code> for <strong>Header value</strong> where <em>base64string</em> is the base64 encoded string you generated in the previous section.</p>
</li>
</ol>
</li>
<li>
<p>Scroll to the bottom of the page and find the "here you are!" field.  Select all and copy the contents of the text box below.</p>
</li>
<li>
<p>In your Terminal, paste what you just copied and press the ENTER key.   Your computer should execute the cURL command, sending your base64string to the Twitter API for authorization and returning a JSON file similar to the following:</p>
<div class="codehilite"><pre><span></span><span class="p">{</span><span class="nt">&quot;token_type&quot;</span><span class="p">:</span><span class="s2">&quot;bearer&quot;</span><span class="p">,</span><span class="nt">&quot;access_token&quot;</span><span class="p">:</span><span class="s2">&quot;AAAAAAAAAdAAAAAO%2FnxQAAAAAAbZZuPjgaOoJcLhV8A%3DZ84ZCilzHuKvPXYqTl7fjQ216gCjrdT8hJTV1y7w1NMmw&quot;</span><span class="p">}</span>
</pre></div>

<div class="admonition important">
<p class="admonition-title">Important</p>
<p>The JSON above is for example purposes only; you will need to generate an access_token specific to your Twitter account. </p>
</div>
</li>
<li>
<p>You will want to copy the access_token and keep it in a secure location.</p>
</li>
<li>
<p>Now you can test querying a particular user's public Tweets with your access_token (per <a href="https://developer.twitter.com/en/docs/tweets/timelines/overview">https://developer.twitter.com/en/docs/tweets/timelines/overview</a>) In your browser, return to: https://curlbuilder.com/</p>
</li>
<li>
<p>In the form on that page, use the following settings:</p>
<ol>
<li>
<p>HTTP Method:  <code>GET</code></p>
</li>
<li>
<p>URL: <code>https://api.twitter.com/1.1/statuses/user_timeline.json?count=1&amp;screen_name=twitterapi</code></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you wish, you can replace the screen_name of <code>twitterapi</code> with your personal Twitter screen name to query your own Twitter feed for its latest Tweet.</p>
</div>
</li>
<li>
<p>Body: leave blank</p>
</li>
<li>
<p>Click on the "Add Custom Header" button .</p>
</li>
<li>
<p>In the resulting fields, use <code>Authorization</code> for <strong>Header key</strong> and and then <code>Bearer access_token</code> for <strong>Header value</strong> where <em>access_token</em> is what you copied in step #5 above.</p>
<p><img alt="cURL GET request" src="curl.png" /></p>
</li>
</ol>
</li>
<li>
<p>Scroll down and copy the entire contents of the generated cURL command.</p>
</li>
<li>
<p>Paste them into your Terminal and press ENTER.</p>
</li>
<li>
<p>If successful, the cURL command should return a long JSON object containing the latest tweet from the specified user whose screenname is <code>twitterapi</code>, as illustrated below:</p>
<p><img alt="cURL Response JSON" src="cURL_response.png" /></p>
</li>
</ol>
<h2 id="arduino-sketch">Arduino Sketch</h2>
<p>Finally we can set up the Arduino sketch necessary to query the Twitter API directly from the Feather M0.</p>
<ol>
<li>
<p>Create a new Arduino sketch by choosing File --&gt; New from the main menu.</p>
</li>
<li>
<p>Save it by choosing File --&gt; Save and give it a memorable name, such as <code>TwitterQuery</code></p>
</li>
<li>
<p>Create a new tab in your sketch:</p>
<ol>
<li>
<p>Find the &#9662; symbol in the upper-right of the Arduino interface and left-click on it.  </p>
</li>
<li>
<p>In the resulting pop-up, choose New Tab.</p>
<p><em>(Alternatively, you can press SHIFT-&#8984;-N)</em></p>
</li>
<li>
<p>You will be prompted to enter a name for this new tab.  Type:</p>
<p><code>arduino_secrets.h</code></p>
<p>and then click "OK".</p>
</li>
</ol>
</li>
<li>
<p>The new tab will appear in your IDE workspace.  Copy and paste the following code into the <code>arduino_secrets.h</code> tab in your sketch:</p>
<div class="codehilite"><pre><span></span><span class="cp">#define SECRET_SSID &quot;DukeOpen&quot;  </span><span class="c1">// your network SSID (name)</span>
<span class="cp">#define SECRET_PASS &quot;&quot;  </span><span class="c1">// your network password; leave empty for open networks</span>

<span class="cp">#define TWITTER_TOKEN &quot;base64 encoded API key/secret goes here&quot;</span>
</pre></div>

<p>[Recall that the base64 encoded string is what you produced above in the section entitled <strong>Encode Consumer API Key/Secret</strong>]</p>
</li>
<li>
<p>Return to the main tab of your Arduino sketch.  </p>
</li>
<li>
<p><em>Replace</em> the contents of that tab with the code provided at this Github gist:</p>
<p><script src="https://gist.github.com/mjvo/e960cc12b70ca33ebd4923e6d5c34df9.js"></script></p>
</li>
<li>
<p>Around line 20 of the main Arduino sketch there is a variable <code>twitter_user</code> where you can set the screen name of the Twitter user whose latest Tweet you'd like to query.   </p>
</li>
<li>
<p>Verify and upload the sketch to your Feather.</p>
</li>
<li>
<p>If successful, both information about the specified Twitter user and their latest Tweet should print out to the Arduino serial monitor.</p>
<p><img alt="Serial Monitor Output" src="serial_monitor_output.png" /></p>
</li>
</ol>
    
        
    

              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../instagram/" title="Instagram API" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Instagram API
              </span>
            </div>
          </a>
        
        
          <a href="../../machine-learning/pytorch-dcgan/" title="PyTorch DCGAN" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                PyTorch DCGAN
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.ac79c3b0.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>